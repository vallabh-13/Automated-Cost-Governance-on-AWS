{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Wasteful Infrastructure Simulation for Cost Governance Demo",
  "Parameters": {
    "ProjectName": {
      "Type": "String",
      "Description": "Project name used for tagging and resource naming"
    },
    "GovernanceTagKey": {
      "Type": "String",
      "Default": "CostGovernance",
      "Description": "Tag key used to mark resources for governance cleanup"
    },
    "GovernanceTagValue": {
      "Type": "String",
      "Default": "true",
      "Description": "Tag value used to mark resources for governance cleanup"
    },
    "AvailabilityZone": {
      "Type": "String",
      "Default": "us-east-1a",
      "Description": "Availability Zone for wasteful EBS volume"
    }
  },
  "Resources": {
    "WastefulEC2Instance": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "InstanceType": "t3.2xlarge",
        "ImageId": "ami-0c55b159cbfafe1f0",
        "Tags": [
          { "Key": { "Ref": "GovernanceTagKey" }, "Value": { "Ref": "GovernanceTagValue" } },
          { "Key": "Project", "Value": { "Ref": "ProjectName" } }
        ]
      }
    },
    "WastefulVolume": {
      "Type": "AWS::EC2::Volume",
      "Properties": {
        "AvailabilityZone": { "Ref": "AvailabilityZone" },
        "Size": 100,
        "Tags": [
          { "Key": { "Ref": "GovernanceTagKey" }, "Value": { "Ref": "GovernanceTagValue" } },
          { "Key": "Project", "Value": { "Ref": "ProjectName" } }
        ]
      }
    }
  }
}
